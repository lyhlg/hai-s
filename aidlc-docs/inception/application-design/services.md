# Services

> 컴포넌트 간 오케스트레이션을 담당하는 서비스 레이어 정의

---

## 1. AuthService
- **오케스트레이션**: Auth + Store + Table
- **역할**:
  - 관리자 로그인: Store 유효성 → Auth 인증 → JWT 발급
  - 테이블 로그인: Store 유효성 → Table 유효성 → Auth 인증 → JWT 발급
  - 토큰 검증 미들웨어

## 2. MenuService
- **오케스트레이션**: Menu + Store
- **역할**:
  - 메뉴 CRUD 시 매장 소유권 검증
  - 고객용 메뉴 조회 (카테고리별 정렬, 인기 배지 포함)

## 3. OrderService
- **오케스트레이션**: Order + Menu + Table + SSE
- **역할**:
  - 주문 생성: 메뉴 유효성 검증 → 주문 저장 → SSE 이벤트 발행
  - 주문 상태 변경: 상태 업데이트 → SSE 이벤트 발행
  - 주문 삭제: 삭제 → 총 주문액 재계산 → SSE 이벤트 발행

## 4. TableService
- **오케스트레이션**: Table + Order + SSE
- **역할**:
  - 세션 종료: 주문 내역 → 과거 이력 이동 → 테이블 리셋 → SSE 이벤트 발행
  - 세션 시작: 첫 주문 시 자동 세션 생성

## 5. SettlementService
- **오케스트레이션**: Order + Table
- **역할**:
  - 일매출 집계: 완료된 주문 기준 날짜별/테이블별 매출 계산

## 6. SSEService
- **오케스트레이션**: SSE (독립)
- **역할**:
  - 매장별 SSE 채널 관리
  - 고객용 채널: 해당 테이블 주문 상태 변경
  - 관리자용 채널: 매장 전체 주문 이벤트
  - 연결 관리 (생성/해제/재연결)
